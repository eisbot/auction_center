<% content_for :hero do %>
    <div class="hero orange">
        <h1><%= @user.display_name %></h1>
        <%= t('.title') %>
    </div>
<% end %>

<div class="u-container">
    <div class="margin-block">
        <div class="content">
            <h2><%= @user.display_name %></h2>
            <div class="body">
                <div class="details-list centered-list">
                    <ul>
                        <li>
                            <span class="label"><%= t('users.email') %></span>
                            <span class="value"><%= (@user.email) %></span>
                        </li>

                        <li>
                            <span class="label"><%= t('users.mobile_phone') %></span>
                            <span class="value">
                                <% if @user.phone_number_confirmed? && @phone_confirmation_toggle %>
                                    <i class="ui icon check circle outline"></i>
                                <% end %>
                                <%= (@user.mobile_phone) %>
                            </span>
                        </li>

                        <li>
                            <span class="label"><%= t('users.roles') %></span>
                            <span class="value"><%= @user.roles.join(', ') %></span>
                        </li>

                        <li>
                            <span class="label"><%= t('users.country_code') %></span>
                            <span class="value">
                                <i class="flag <%= @user.country_code.downcase %>"></i>
                                <%= (@user.country_code) %>
                            </span>
                        </li>

                        <li>
                            <span class="label"><%= t('users.identity_code') %></span>
                            <span class="value"><%= (@user.identity_code) %></span>
                        </li>

                        <li>
                            <span class="label"><%= t('users.terms_and_conditions_accepted_at') %></span>
                            <span class="value">
                                <%- if @user.terms_and_conditions_accepted_at %>
                                    <%= I18n.l(@user.terms_and_conditions_accepted_at) %>
                                <% else %>
                                    <%= t(:not_accepted) %>
                                <% end %>
                            </span>
                        </li>

                        <li>
                            <span class="label"><%= t('created_at') %></span>
                            <span class="value"><%= I18n.l(@user.created_at) %></span>
                        </li>
                    </ul>
                </div>

                <h3><%= t('.ban_this_user') %>
                <%= form_with(model: @ban, local: true, url: admin_bans_path, class: "ui form big") do |f| %>
                    <div class="field">
                        <%= f.hidden_field :user_id, value: @ban.user_id %>
                        <%= f.label :valid_until, t('bans.valid_until') %>
                        <%= f.date_field :valid_until %>
                    </div>

                    <%= f.submit t(:submit), class: "ui button primary" %>
                <% end %>

                <div class="buttons">
                    <%= link_to t(:edit), edit_admin_user_path(@user), class: "ui button primary" %>
                    <%= link_to t(:delete), admin_user_path(@user),
                    method: :delete, data: { confirm: t(:are_you_sure) } ,
                    remote: true, class: "ui button secondary" %>

                    <%= link_to t(:versions_name), admin_user_versions_path(@user), class: "ui button primary" %>
                </div>
            </div>
    </div>
</div>
